#!/bin/bash

declare -A sumarioAcertos
declare -A sumarioTotal
declare -A sumarioStatus
vermelho='\033[0;31m'
verde='\033[0;32m'
normal='\033[0m'
azul='\033[0;36m'
amarelo='\033[44m'

avaliar () {
	file=$1
	saidaPadrao=true
	erroPadrao=true
	saidaArquivo=true
	if [ ! -z ${args[0]} ] && [ ! ${args[0]} == $1 ]; then
		return 1
	fi
	if ! [ -n "${sumarioTotal[$1]}" ]; then
		echo -e "${amarelo}              problema $1            ${normal}"
	fi
	sumarioTotal[$1]=$((sumarioTotal[$1]+1))
	if ! [ -n "${sumarioAcertos[$1]}" ]; then
		sumarioAcertos[$1]=0
	fi
	if [ -f $file.c ]; then
		charset="$(file -bi "$file.c" | awk -F "=" '{print $2}')"
		if [ "$charset" != utf-8 ]; then
			iconv -f "$charset" -t utf8 "$file.c" -o tmp.c
			mv tmp.c "$file.c"
		fi
		if [ ! -f exec$file ]; then
			if ! gcc $file.c -o exec$file -lm  2> /dev/null; then
				sumarioStatus[$1]='código '$file.c' não compila'
			fi
		fi
		if [ -f exec$file ]; then
			printf 'Teste %d: ' ${sumarioTotal[$1]}
			echo -e "$2" > input
			echo -e "$3" > expectedOutput
			echo -e "$5" > expectedFile
			echo -e "$6" > expectedError
			timeout 2 ./exec$file < input > userOutput 2> userError
			if ! diff -wB userOutput expectedOutput > /dev/null; then
				saidaPadrao=false
			fi
			if ! diff -wB userError expectedError > /dev/null; then
				erroPadrao=false
			fi
			if [ -n "$4" ]; then
				if [ -f $4 ]; then
					if ! diff -wB $4 expectedFile > /dev/null; then
						saidaArquivo=false
					fi

				fi
			fi
			if [ $saidaPadrao = true -a $erroPadrao = true -a $saidaArquivo = true ]; then
				echo -e "${verde} [ok] ${normal}"
				sumarioAcertos[$1]=$((sumarioAcertos[$1]+1))
			else
				echo -e "${vermelho} [x]${normal}"
				echo -e '\tEntrada:' "${azul} $2 ${normal}"
				if [ $saidaPadrao = false ]; then
					echo -e '\tSaída padrão do seu programa:' "${azul} $(cat userOutput) ${normal}"
					echo -e '\tSaída padrão esperada:' "${azul} $3 ${normal}"
				fi
				if [ $erroPadrao = false ]; then
					echo -e '\tErro padrão do seu programa:' "${azul} $(cat userError) ${normal}"
					echo -e '\tErro padrão esperado:' "${azul} $6 ${normal}"
				fi
				if [ $saidaArquivo = false ]; then
					echo -e '\tArquivo nao confere:' "${azul} $4 ${normal}"
				fi
			fi
		fi
	else
		sumarioStatus[$1]='código '$file.c' não existe'
	fi
}

#avaliar 'q'(1)  'entrada padrao'(2)	'saida padrao'(3) 	'arquivo'(4)  'saidaArquivo'(5)  'erro padrao'(6)

avaliar 'q1' 'Rafael' '' '' '' 'não encontrado'
avaliar 'q1' 'Dawn' '201586046 5.40' '' '' ''
avaliar 'q1' 'Maria' '' '' '' 'não encontrado'
avaliar 'q1' 'Stephen' '201515373 5.77' '' '' ''
avaliar 'q1' 'Letisha' '201525073 7.50' '' '' ''
avaliar 'q1' 'Diogo' '' '' '' 'não encontrado'
avaliar 'q1' 'Wally' '201573562 5.53' '' '' ''

avaliar 'q2' '' '' 'aprovados.txt' '201518563 Bentlee\n201578670 Talyah\n201552008 Rosanna\n201503773 Gerri\n201506397 Chariot\n201594386 Bran\n201530741 Charlene\n201590625 Torey\n201595270 Swen\n201530016 Dorri\n201569616 Forbes\n201583339 Devland\n201559115 Hermine\n201535153 Jephthah\n201577034 Colver\n201518288 Cordell\n201512871 Addy\n201585749 Melvyn\n201552979 Vito\n201551371 Frederick\n201592833 Belicia\n201536296 Perry\n201522525 Brian\n201518876 Bernadine\n201539072 Velma\n201524910 Emile\n201556759 Mart\n201570591 Rasla\n201595854 Robyn\n201581690 Concettina\n201511883 Rosalie\n201534617 Kippy\n201513130 Maximilianus\n201589453 Gwenore\n201522356 Averil\n201512433 Xylina\n201546833 Myrilla\n201560498 Shelby\n201577540 Sheffie\n201529241 Lynnell\n201511643 Meriel\n201517633 Daron\n201525073 Letisha\n201522424 Hazel\n201548914 Sherill\n201579253 Dolores\n201563792 Rea\n201515883 Augustina\n201563692 Allissa\n201506547 Seward\n201512989 Diarmid\n201502959 Tiffani\n201583002 Konstantin\n201519949 Blayne\n201553630 Luise\n201541765 Giffer\n201537657 Grove\n201554127 Kiley\n201571256 Kerrill\n201581987 Pryce\n201555524 Lazare\n201568789 Reinald.sf\n201566841 Murdock\n201520328 Vivyan\n201582420 Davis\n201595550 Jasen\n201500865 Alysa\n201510731 Gaspard\n201510419 Sheila-kathryn\n201594687 Alwin\n201516004 Tanya\n201568359 Harper\n201555304 Laurie\n201515941 Giusto\n201537080 Alecia\n201501149 Emanuel\n201561592 Clem\n201526821 Denys\n201503641 Lucias\n201513766 Adoree\n201500658 Gregg\n201575121 Nikolas\n201518440 Nester\n201525358 Jenda\n201582558 Kassie\n201571294 Rollie\n201526098 Ora\n201514078 Burnard\n201503559 Ailey\n201562554 Wilmar\n201558398 Ettie\n201563272 Chastity\n201590987 Nanon\n201535227 Johann\n201516121 Adelle\n201560016 Darrelle\n201566430 Ronalda\n201517291 Tate\n201560694 Hew\n201571456 Norean\n201501115 Foster\n201573494 Persis\n201528650 Stacee\n201501911 Emanuele\n201562207 Christie\n201532430 Dominick\n201568697 Clio\n201577577 Tracy\n201544550 Wilburt\n201524543 Tilly\n201595394 Arielle\n201506424 Jackqueline\n201565999 Vivi\n201563091 Guido\n201522826 Artemus\n201549629 Jordain\n201591084 Marsiella\n201557535 Sallyanne\n201502500 Giavani\n201563669 Alexandros\n201517129 Kizzee\n201550963 Rockwell\n201570905 Corabelle\n' ''

avaliar 'q3' '' '' 'classificacao.txt' 'ABC 41 56\nAlecrim 47 52\nAmericaRN 47 62\nAtleticoGO 42 51\nAtleticoMG 38 67\nAtleticoPR 34 45\nAvai 41 61\nBahia 40 53\nBotafogo 39 54\nChapecoense 39 63\nCorinthians 45 59\nCoritiba 36 53\nCriciuma 37 48\nCruzeiro 44 59\nFlamengo 33 52\nFluminense 49 57\nGoias 36 58\nGremio 35 42\nGuarani 41 50\nInternacional 40 60\nJuventude 47 78\nNautico 43 59\nPalmeiras 35 52\nParana 34 48\nPontePreta 38 56\nSantaCruz 42 54\nSantos 36 55\nSaoPaulo 39 43\nSport 40 68\nVasco 45 59\nVilaNova 41 50\nVitoria 36 63\n' ''

avaliar 'q4' 'Brazil *' '4396 Brazil China\n9190 Brazil France\n5881 Brazil Ethiopia\n9256 Brazil Poland\n6280 Brazil Ireland\n9175 Brazil Colombia\n2555 Brazil China\n4851 Brazil Serbia\n3635 Brazil CapeVerde\n6311 Brazil Ukraine\n4923 Brazil CzechRepublic\n6447 Brazil Russia\n5631 Brazil NorthKorea\n8954 Brazil China\n6447 Brazil China\n3896 Brazil China\n9266 Brazil China\n8089 Brazil Yemen\n6625 Brazil Indonesia\n5842 Brazil China\n3481 Brazil Canada\n5685 Brazil Nicaragua\n9462 Brazil PalestinianTerritory\n9592 Brazil China\n8861 Brazil Russia\n3198 Brazil ElSalvador\n3351 Brazil China\n2098 Brazil Sweden\n7244 Brazil China\n3388 Brazil Mexico\n2804 Brazil China\n9145 Brazil Malaysia\n6846 Brazil China\n3438 Brazil Colombia\n3022 Brazil Belarus\n9497 Brazil China\n8546 Brazil China\n5230 Brazil Russia\n4134 Brazil China\n3497 Brazil Russia\n3674 Brazil Russia\n7111 Brazil China\n' '' '' ''
avaliar 'q4' '* Brazil' '8117 Indonesia Brazil\n8099 Croatia Brazil\n1100 PalestinianTerritory Brazil\n3153 Uzbekistan Brazil\n8878 Poland Brazil\n2718 Philippines Brazil\n3717 Indonesia Brazil\n6104 SouthAfrica Brazil\n2766 Cuba Brazil\n8357 CaymanIslands Brazil\n9533 Norway Brazil\n4345 China Brazil\n9483 China Brazil\n6343 Yemen Brazil\n8524 SouthKorea Brazil\n7952 Mongolia Brazil\n1160 Finland Brazil\n9891 Russia Brazil\n8261 Mexico Brazil\n4302 Armenia Brazil\n6356 Sweden Brazil\n1037 Poland Brazil\n6404 Indonesia Brazil\n8665 China Brazil\n9559 Poland Brazil\n8988 Thailand Brazil\n7551 CzechRepublic Brazil\n4126 France Brazil\n4690 Serbia Brazil\n7868 Belarus Brazil\n4823 Russia Brazil\n3351 France Brazil\n5421 China Brazil\n3218 China Brazil\n2684 China Brazil\n1524 Russia Brazil\n4146 Argentina Brazil\n' '' '' ''
avaliar 'q4' '* *' '2054 Indonesia Russia\n8117 Indonesia Brazil\n7569 Qatar Slovenia\n5049 Poland Latvia\n2601 SouthAfrica China\n2781 Norway Mozambique\n3107 Peru China\n8099 Croatia Brazil\n4848 Indonesia Jordan\n9993 Philippines China\n4225 Indonesia Slovenia\n9316 China SouthKorea\n6683 Indonesia Ethiopia\n5964 China Japan\n5390 Russia Latvia\n4355 China Russia\n3311 Turkmenistan Indonesia\n6596 Indonesia Russia\n4396 Brazil China\n6510 CzechRepublic Russia\n5051 Malawi China\n9026 Albania Indonesia\n7352 China Indonesia\n4264 Vietnam Argentina\n5388 Philippines Indonesia\n6013 Honduras CzechRepublic\n9190 Brazil France\n7403 China Indonesia\n7138 China Philippines\n5947 Russia Philippines\n5104 Greece Macedonia\n1103 Russia Thailand\n4394 Serbia UnitedKingdom\n1271 Russia China\n4093 Iran Ukraine\n3562 Indonesia China\n7530 SouthAfrica China\n3204 Belarus Nicaragua\n5580 Russia Uganda\n5180 Indonesia Greece\n3793 Russia Sweden\n1100 PalestinianTerritory Brazil\n3371 China CzechRepublic\n7262 China Vietnam\n8549 Sweden Bangladesh\n3570 Japan Philippines\n7169 France Eritrea\n7430 Armenia Russia\n4438 Philippines Russia\n4612 Poland Russia\n7413 Guatemala Norway\n3831 Pakistan Oman\n5881 Brazil Ethiopia\n9207 Kyrgyzstan Vietnam\n7524 Finland Sweden\n3632 Indonesia Croatia\n8685 Russia Lithuania\n4404 Indonesia Portugal\n1786 Russia Greece\n3871 Sweden Indonesia\n3153 Uzbekistan Brazil\n9879 Indonesia France\n1480 Indonesia China\n2682 Mexico France\n6901 Thailand Gambia\n8700 Argentina DemocraticRepublicoftheCongo\n5430 China Sweden\n9090 Greece China\n1380 China Ukraine\n9818 Poland Indonesia\n1406 Colombia Russia\n5194 China Russia\n9728 China France\n2660 Philippines Portugal\n7017 China France\n3024 Colombia Sweden\n3853 Indonesia CzechRepublic\n5097 Albania Armenia\n7929 Philippines Russia\n6264 China Indonesia\n6535 China Russia\n2414 Russia Germany\n8875 Philippines Nigeria\n8263 France Argentina\n8461 Guatemala France\n8290 France Philippines\n9004 ElSalvador China\n4439 Canada Argentina\n3334 Peru China\n6337 Vietnam Indonesia\n8110 China Russia\n5384 Ecuador Philippines\n6188 Sweden CzechRepublic\n2907 Mexico Ecuador\n6797 China Philippines\n1458 Panama Kosovo\n6845 Japan UnitedStates\n8295 Australia Portugal\n8963 Russia Indonesia\n2276 Ireland Portugal\n6837 France Greece\n6405 CzechRepublic China\n9650 Kazakhstan Poland\n8878 Poland Brazil\n9256 Brazil Poland\n9739 China France\n5073 Kazakhstan Mexico\n3034 China Philippines\n6790 China Yemen\n9418 Mexico Syria\n2830 Russia China\n6280 Brazil Ireland\n9175 Brazil Colombia\n6200 Vietnam Albania\n2838 Nigeria China\n9836 Ethiopia Tanzania\n4397 China SanMarino\n5564 Philippines Poland\n7793 Sweden Peru\n1403 China Philippines\n2555 Brazil China\n4008 China Panama\n8725 Indonesia CzechRepublic\n1722 Peru Russia\n8099 UnitedStates Ecuador\n9510 Poland Greece\n5082 Indonesia Canada\n6234 China Colombia\n9769 Russia Albania\n2510 Netherlands Norway\n2926 Bulgaria Portugal\n7704 Iran Indonesia\n9996 Greece CzechRepublic\n3591 Canada CzechRepublic\n8698 Mongolia Vietnam\n7956 China UnitedStates\n7739 Albania China\n7377 Sweden UnitedStates\n3239 Guam Indonesia\n4107 Peru Netherlands\n4851 Brazil Serbia\n5464 Luxembourg China\n3230 Ukraine Turkmenistan\n2904 Iran Indonesia\n9633 Belarus Indonesia\n9682 Indonesia China\n8397 Japan Greece\n2740 Yemen Pakistan\n5227 Canada Colombia\n8652 China Panama\n2718 Philippines Brazil\n4602 Nepal Cyprus\n3518 Russia Morocco\n4051 Canada China\n6853 Mexico Russia\n3714 Canada China\n1212 Slovenia China\n9896 France Portugal\n7457 Philippines Russia\n2581 Indonesia Belarus\n2031 Serbia Peru\n7404 Indonesia France\n1550 Portugal Indonesia\n6336 Poland Philippines\n8401 Indonesia Mongolia\n4140 CzechRepublic Poland\n5581 Uzbekistan PapuaNewGuinea\n4936 Uganda Russia\n9245 Pakistan Indonesia\n7177 France Indonesia\n9427 Indonesia Norway\n1341 China Philippines\n3766 China Malta\n5370 Poland Indonesia\n2599 Philippines China\n8494 China Nigeria\n8144 CzechRepublic China\n5840 Philippines Senegal\n9442 China Indonesia\n9891 Greece Sweden\n3130 China Israel\n2673 Austria Indonesia\n4355 Indonesia France\n7105 UnitedKingdom Indonesia\n8968 China Tanzania\n7008 Poland China\n2912 SouthKorea France\n3334 Argentina Nigeria\n8479 Afghanistan Spain\n2732 Sweden Thailand\n9423 Kenya Russia\n3717 Indonesia Brazil\n3862 Vietnam China\n1248 Colombia Argentina\n7637 Poland UnitedStates\n7562 Philippines France\n8847 SouthKorea CzechRepublic\n2206 Poland Indonesia\n3096 IvoryCoast Russia\n8018 Australia Russia\n5001 Sweden Philippines\n8742 Japan China\n6701 Indonesia Sweden\n3292 Iran China\n5416 Philippines Nepal\n4343 China Martinique\n1586 Indonesia Sweden\n8011 Finland Russia\n7936 Mongolia Indonesia\n1801 China Japan\n7881 China Ecuador\n5684 Sweden Croatia\n9661 Argentina Iran\n9735 Bolivia Russia\n3395 Japan China\n1800 Yemen Croatia\n6858 Thailand Sweden\n4470 Mali China\n6919 Indonesia Bulgaria\n2075 France Russia\n6104 SouthAfrica Brazil\n2766 Cuba Brazil\n4135 Indonesia Russia\n3635 Brazil CapeVerde\n7258 Nigeria Japan\n3306 Mexico BosniaandHerzegovina\n4242 Russia Sweden\n2736 Greece China\n2208 Thailand Philippines\n9941 Indonesia France\n9262 Russia China\n2318 Bulgaria China\n3889 Indonesia Colombia\n3338 China Philippines\n4840 Poland Malawi\n6311 Brazil Ukraine\n5236 China Poland\n5988 Indonesia Ecuador\n3184 Sweden China\n4359 Pakistan Poland\n4923 Brazil CzechRepublic\n1475 Portugal Canada\n5789 Vietnam Indonesia\n8357 CaymanIslands Brazil\n6447 Brazil Russia\n5631 Brazil NorthKorea\n1774 Ukraine Albania\n7210 Iran Ukraine\n5827 China Philippines\n8954 Brazil China\n3333 BosniaandHerzegovina Poland\n9061 China Indonesia\n3134 Russia Argentina\n8283 China Iran\n3147 China Philippines\n2834 IvoryCoast Philippines\n9633 SouthAfrica China\n5576 EastTimor Japan\n7784 Nigeria Russia\n1377 Poland Russia\n6682 China Philippines\n7297 Cameroon Japan\n2412 NorthKorea Indonesia\n1261 Poland Kazakhstan\n3035 China Indonesia\n8489 Indonesia Thailand\n8076 Portugal China\n4758 Chad Sweden\n7508 Guam Bahamas\n2337 Yemen Indonesia\n9928 Suriname China\n8041 Spain Albania\n9406 Russia Nicaragua\n7006 Vietnam Greece\n6571 Ireland Portugal\n1120 Russia Indonesia\n2689 Kazakhstan Portugal\n6447 Brazil China\n2903 China Canada\n2054 China Poland\n6232 China Philippines\n4380 Germany CzechRepublic\n8137 CzechRepublic Cameroon\n3896 Brazil China\n1033 China Spain\n4165 Macedonia Philippines\n7291 Indonesia China\n4256 Syria Canada\n4580 France China\n8030 Azerbaijan Philippines\n7750 Philippines Russia\n5787 Poland Colombia\n1738 Russia Slovenia\n6140 China Indonesia\n6356 ElSalvador CzechRepublic\n1472 Malta PalestinianTerritory\n9266 Brazil China\n9881 China Russia\n8089 Brazil Yemen\n5440 CzechRepublic Thailand\n6176 Philippines Poland\n7965 China Albania\n9781 Indonesia CzechRepublic\n2785 China Croatia\n1329 Portugal China\n6423 Indonesia Greece\n8831 Indonesia China\n7238 Poland Portugal\n8163 China Zimbabwe\n2682 Iraq Philippines\n2763 Taiwan China\n9926 Philippines France\n2129 Argentina Peru\n7991 Thailand BurkinaFaso\n7369 Russia Indonesia\n3225 Colombia China\n9354 Ethiopia Thailand\n7804 China Thailand\n3221 Japan Indonesia\n6674 Indonesia Portugal\n9533 Norway Brazil\n9109 Afghanistan China\n9684 Latvia Thailand\n6123 EastTimor BosniaandHerzegovina\n6020 Japan Panama\n6066 Sweden China\n8129 Sweden Japan\n4386 Morocco Peru\n4516 Yemen China\n2820 Indonesia Ethiopia\n3700 Indonesia Portugal\n2994 Indonesia Russia\n7381 Portugal UnitedStates\n6625 Brazil Indonesia\n3545 China SaudiArabia\n9098 Malta Cuba\n9458 UnitedStates Poland\n5646 Peru Ukraine\n8729 Ukraine Portugal\n2771 China Portugal\n4345 China Brazil\n4586 Cuba BosniaandHerzegovina\n1609 Canada China\n5946 China Philippines\n2065 Yemen China\n7339 Estonia UnitedStates\n4225 DominicanRepublic CzechRepublic\n4146 Venezuela Russia\n5842 Brazil China\n5947 Thailand Sweden\n7670 China Vietnam\n7827 UnitedStates Sudan\n8998 Colombia Sweden\n9112 Mexico Japan\n5951 Finland Portugal\n5271 China Philippines\n8874 Indonesia China\n8872 Philippines China\n3615 China Panama\n3747 Serbia Slovenia\n5412 Kenya Thailand\n5222 Portugal Poland\n9987 Ukraine Sweden\n7482 Canada China\n9483 China Brazil\n6343 Yemen Brazil\n3169 Indonesia Iran\n2604 China Haiti\n8636 Afghanistan China\n7212 Indonesia China\n7447 Indonesia Philippines\n3340 Serbia Indonesia\n6814 Azerbaijan Philippines\n1580 China Japan\n7369 Kyrgyzstan China\n6806 Philippines China\n8458 Serbia Guatemala\n3481 Brazil Canada\n9523 China Philippines\n2326 ElSalvador Philippines\n6907 Peru Indonesia\n9349 FrenchPolynesia Madagascar\n7558 UnitedStates China\n3259 France China\n3669 Thailand China\n2920 China UnitedStates\n2620 Portugal Georgia\n7025 Russia Bangladesh\n3405 China Indonesia\n9120 Malaysia SouthKorea\n5685 Brazil Nicaragua\n8524 SouthKorea Brazil\n8056 China Russia\n4189 Vietnam Argentina\n5471 Serbia UnitedStates\n5831 Chile Sweden\n4749 Uganda Peru\n5429 Ireland Russia\n8336 Norway Kazakhstan\n4288 China Philippines\n2799 Russia China\n2753 Philippines Russia\n9880 Sweden Greece\n7122 Philippines Iran\n9157 Cameroon China\n1206 Norway SriLanka\n3187 China HongKong\n6352 China Finland\n5519 Japan Kyrgyzstan\n1968 Ecuador China\n6449 China France\n2996 Poland Indonesia\n9543 Vietnam Russia\n9054 Nepal Pakistan\n4991 Armenia Philippines\n9348 Cameroon France\n7952 Mongolia Brazil\n9893 Spain CzechRepublic\n1160 Finland Brazil\n9053 Russia Indonesia\n7504 Indonesia Philippines\n2724 Philippines Uganda\n7535 Colombia Poland\n3534 Lithuania Botswana\n2313 Sweden Peru\n5480 Russia China\n8633 UnitedStates Sweden\n8974 Peru Indonesia\n3777 Philippines Slovenia\n8517 SriLanka Malaysia\n4890 Japan Portugal\n9399 China Indonesia\n4478 France Philippines\n9303 Indonesia Ireland\n9802 France Kenya\n8635 China Poland\n2686 UnitedStates Indonesia\n4635 Portugal China\n3545 Morocco Indonesia\n3783 Greece Portugal\n1938 Indonesia Greece\n5812 Malta Philippines\n8308 Russia China\n8151 China Indonesia\n4131 Greece Peru\n1823 Ethiopia Spain\n4007 Portugal UnitedStates\n6844 China Indonesia\n2334 Indonesia Thailand\n1560 Russia Mexico\n6534 Russia China\n3071 France Indonesia\n7242 Moldova Russia\n3059 China France\n5669 Thailand China\n5704 Poland SouthKorea\n2332 Russia Cuba\n4513 Russia Indonesia\n3576 SaudiArabia Russia\n3222 UnitedStates Vietnam\n8881 UnitedStates Guatemala\n7664 Sweden Mexico\n9462 Brazil PalestinianTerritory\n3061 Greece China\n9592 Brazil China\n8296 Albania Indonesia\n5463 China Philippines\n1229 France SouthKorea\n9702 Portugal Macedonia\n3846 CzechRepublic Morocco\n8337 Poland Mongolia\n6298 Japan Anguilla\n8861 Brazil Russia\n4924 Afghanistan AmericanSamoa\n8138 Peru Maldives\n5568 Philippines Bahamas\n8174 Portugal Greece\n9067 China Russia\n1787 China Armenia\n3594 Botswana Peru\n7981 Macedonia Poland\n4517 Indonesia Sweden\n3828 Maldives Portugal\n9732 Mexico SanMarino\n9536 Ghana Sweden\n1680 Thailand Peru\n2551 China Lithuania\n1353 China Indonesia\n2495 China UnitedStates\n8471 Spain China\n6353 China Poland\n4395 Philippines France\n3019 Russia Nigeria\n1302 Philippines Mongolia\n2107 SouthAfrica Venezuela\n9891 Russia Brazil\n5898 Ukraine Mexico\n5386 Peru Indonesia\n1961 CzechRepublic Indonesia\n2106 UnitedStates China\n7905 China Colombia\n2911 Malawi Sweden\n4239 China Colombia\n6891 China CzechRepublic\n3288 Argentina Ukraine\n2685 France UnitedStates\n7539 Indonesia Russia\n7504 UnitedStates Indonesia\n8261 Mexico Brazil\n6584 Bhutan Azerbaijan\n2150 Indonesia Japan\n7766 Indonesia China\n2047 France Argentina\n2185 Botswana Russia\n1559 Italy Ecuador\n1848 Portugal China\n8577 Indonesia UnitedStates\n3251 Peru China\n2807 Sweden Cuba\n6759 UnitedStates China\n4302 Armenia Brazil\n5356 China Russia\n5330 Mongolia Indonesia\n6466 China Poland\n5246 Mongolia SaudiArabia\n4134 Moldova Russia\n1000 Canada Portugal\n3323 Ukraine UnitedStates\n5642 Japan Bangladesh\n4799 Poland Sweden\n3198 Brazil ElSalvador\n2670 Madagascar China\n7653 Japan Indonesia\n8751 Russia Colombia\n3184 Portugal China\n1141 Sweden Morocco\n9795 Japan Cuba\n9800 Cyprus France\n9997 Poland Argentina\n7270 UnitedStates Cyprus\n4541 Croatia Tanzania\n3266 Indonesia Portugal\n6380 China Indonesia\n6356 Sweden Brazil\n5687 BosniaandHerzegovina Vietnam\n4296 China Kazakhstan\n8565 Venezuela China\n5079 Morocco France\n3821 China SouthAfrica\n4120 China Portugal\n2443 Argentina Peru\n4080 Sweden Peru\n2676 Kazakhstan Uruguay\n1611 China BurkinaFaso\n6966 Azerbaijan Portugal\n3351 Brazil China\n9884 Philippines China\n9669 China Russia\n2721 DominicanRepublic Nigeria\n3130 Indonesia Philippines\n2894 Belarus Sweden\n4594 China Jordan\n1338 Kenya Malta\n1891 China Mali\n8190 SaudiArabia Indonesia\n6585 DominicanRepublic Russia\n5364 Azerbaijan Mexico\n9748 Russia Indonesia\n9046 Finland China\n2956 Russia China\n6929 Ukraine France\n2098 Brazil Sweden\n1037 Poland Brazil\n6822 Philippines Indonesia\n3884 Ukraine Malaysia\n2017 Indonesia China\n7387 SouthAfrica China\n4782 Indonesia France\n2863 Indonesia Canada\n6515 Yemen Indonesia\n8579 Angola China\n9439 China Indonesia\n6146 China Philippines\n1811 China Russia\n9406 Bangladesh Netherlands\n8984 Ireland France\n8909 Indonesia SouthKorea\n4960 Morocco Canada\n4918 China UnitedStates\n7700 China Madagascar\n2180 Poland Albania\n5194 Ukraine Venezuela\n6151 Philippines China\n6404 Indonesia Brazil\n1625 Lithuania China\n6516 Russia China\n7244 Brazil China\n5951 SriLanka Philippines\n7464 CostaRica SriLanka\n8665 China Brazil\n9327 China Argentina\n8049 Poland Kazakhstan\n2605 Tajikistan Indonesia\n3681 Indonesia Nigeria\n2072 Russia PalestinianTerritory\n6124 Sweden China\n2064 Japan Portugal\n8493 China SouthAfrica\n4071 China Argentina\n2390 France China\n9559 Poland Brazil\n8474 Guatemala Indonesia\n7565 China Mauritius\n2235 Vietnam China\n9711 UnitedStates China\n9753 Slovenia Philippines\n3522 Malaysia China\n8242 Philippines China\n7367 Indonesia Greece\n2681 Indonesia France\n3138 Bolivia Indonesia\n3530 China Ireland\n2631 Norway China\n1421 Ukraine Russia\n9148 Indonesia China\n3857 Poland Indonesia\n9501 Philippines Russia\n4635 Russia Philippines\n3839 China France\n8322 Bangladesh Philippines\n7981 Indonesia Sweden\n5690 China Tanzania\n5363 Philippines Canada\n4226 Namibia China\n1495 Poland Syria\n5741 Sweden Finland\n9940 Vietnam DominicanRepublic\n6750 Portugal Nigeria\n9093 Indonesia China\n6470 Japan Reunion\n4939 Indonesia France\n8988 Thailand Brazil\n1691 Vietnam Russia\n5960 Poland Colombia\n6190 Greece Sweden\n2509 Thailand SouthAfrica\n8331 China Philippines\n2290 China Russia\n7551 CzechRepublic Brazil\n2949 Portugal China\n8439 Argentina Greece\n1972 Indonesia Russia\n7222 China Syria\n3020 Indonesia Malawi\n8986 France Indonesia\n3388 Brazil Mexico\n2262 Greece China\n5887 Russia Japan\n5803 Poland Vietnam\n5603 Portugal China\n7509 Indonesia Netherlands\n9735 Indonesia UnitedKingdom\n2585 Indonesia China\n3830 Thailand CzechRepublic\n8274 Indonesia Russia\n4126 France Brazil\n1313 EquatorialGuinea Colombia\n1284 Ukraine Netherlands\n2728 China Philippines\n6970 Sweden Russia\n6178 Philippines China\n2979 BurkinaFaso China\n4063 Belarus Bolivia\n7106 China Bangladesh\n2154 Latvia Sweden\n3752 China Norway\n2804 Brazil China\n7787 Greece Albania\n2550 Peru Philippines\n7565 Serbia Russia\n6129 BosniaandHerzegovina China\n5320 China Russia\n4573 China Canada\n9228 Albania Canada\n6830 Nigeria Argentina\n4522 France Russia\n2812 Indonesia Guatemala\n3285 Niger China\n9264 Argentina China\n4690 Serbia Brazil\n4809 Russia Mexico\n5873 UnitedStates Haiti\n7868 Belarus Brazil\n4261 Indonesia China\n2958 China Portugal\n1715 Kosovo Peru\n5937 China Ukraine\n2506 Poland China\n1605 Indonesia China\n2055 SouthAfrica Greece\n7547 Indonesia Colombia\n3256 Iran Russia\n2913 UnitedStates Poland\n7824 Indonesia Iran\n5083 China Tunisia\n3338 Portugal CzechRepublic\n4823 Russia Brazil\n4658 France Indonesia\n2321 China Sweden\n5444 China Slovenia\n4258 Guatemala Germany\n7749 Albania Indonesia\n7521 Lithuania Afghanistan\n9146 Yemen Spain\n3184 Poland Jordan\n6801 Panama Sweden\n5926 Bangladesh Poland\n4370 Lithuania Argentina\n3318 Netherlands Indonesia\n1900 Yemen China\n7661 Indonesia Poland\n2681 Poland Serbia\n2942 Indonesia Ukraine\n4153 Argentina Philippines\n2234 China Philippines\n3351 France Brazil\n8392 Greece Philippines\n6692 Japan SaudiArabia\n5205 France Netherlands\n2101 China Indonesia\n3569 China Belarus\n1272 Peru Syria\n1332 UnitedStates China\n2134 Norway HongKong\n7388 Indonesia Sweden\n2940 Japan China\n6281 CzechRepublic Indonesia\n9299 Portugal China\n9956 China Russia\n8644 China Indonesia\n8440 China Poland\n8584 China Mongolia\n9398 Indonesia Russia\n8788 Norway Estonia\n8962 China Philippines\n1594 Russia China\n4497 France Philippines\n5532 China UnitedStates\n7009 Philippines China\n8867 Indonesia China\n7876 Sweden Greece\n9014 Indonesia Russia\n5389 France CzechRepublic\n6228 China Malaysia\n9849 Poland Indonesia\n4605 China Ireland\n2821 Indonesia Egypt\n7927 Canada Finland\n8625 Madagascar IvoryCoast\n9145 Brazil Malaysia\n3963 China Israel\n6155 Russia China\n5421 China Brazil\n9183 Russia SouthAfrica\n2896 China Azerbaijan\n5029 SaudiArabia Japan\n6846 Brazil China\n3438 Brazil Colombia\n2845 Thailand Poland\n1685 Russia Greece\n3304 China Portugal\n6238 Sweden Indonesia\n1439 Sweden Peru\n9397 China CzechRepublic\n2008 Philippines Croatia\n5469 China Canada\n7273 Finland Russia\n1119 Thailand SouthAfrica\n6321 China Russia\n9107 Indonesia Azerbaijan\n7129 Yemen Canada\n2072 Poland China\n7296 Russia China\n2662 Ukraine Zambia\n7843 Indonesia Portugal\n2410 Japan China\n1464 Chad Poland\n9869 Indonesia Portugal\n8138 Norway Switzerland\n2132 Mali Thailand\n3836 Indonesia Russia\n6041 Mexico Kazakhstan\n5571 Thailand Ukraine\n7055 Philippines Honduras\n9818 Japan China\n6454 Colombia Serbia\n5884 Indonesia EastTimor\n3387 China Norway\n6458 Chile Indonesia\n6271 Philippines China\n8219 SouthAfrica Russia\n1729 Gambia Philippines\n3022 Brazil Belarus\n3045 Mexico China\n6945 Vietnam Nigeria\n4661 Indonesia Honduras\n7336 Panama Thailand\n2679 China Indonesia\n6278 Portugal Ethiopia\n4936 China Colombia\n7347 Nigeria Portugal\n1532 Portugal Gambia\n9892 Kyrgyzstan Venezuela\n8898 Thailand China\n3218 China Brazil\n9908 Portugal Indonesia\n9497 Brazil China\n5840 DominicanRepublic Mexico\n1002 Indonesia UnitedStates\n7196 Morocco Israel\n6551 Indonesia UnitedStates\n2239 Venezuela Portugal\n2849 Indonesia Colombia\n3043 DominicanRepublic Mauritius\n7443 CzechRepublic Ghana\n4703 DominicanRepublic China\n9189 China Poland\n2684 China Brazil\n3192 China Latvia\n8591 Canada Serbia\n3165 SaudiArabia BosniaandHerzegovina\n9423 Russia China\n8546 Brazil China\n5238 Russia China\n5230 Brazil Russia\n2040 France Syria\n9123 China Indonesia\n9127 Vietnam Iran\n3920 UnitedArabEmirates Sweden\n6173 Canada China\n2588 Sweden Philippines\n5513 Chad Bulgaria\n1118 Serbia Philippines\n4443 Indonesia France\n9875 Belarus Portugal\n7768 Ireland Ukraine\n8948 Slovenia Argentina\n1278 Swaziland Cuba\n9381 SouthAfrica Japan\n2556 Ukraine China\n4333 UnitedStates China\n9463 Germany Japan\n5158 SouthAfrica Morocco\n9587 Sweden China\n6862 Pakistan Mexico\n3889 Portugal Uruguay\n5765 Poland Russia\n6981 China Poland\n4497 Portugal Japan\n9406 Sweden SouthAfrica\n3941 Croatia China\n8913 Philippines Serbia\n4066 Vietnam Bulgaria\n8780 China Japan\n5887 China Morocco\n9170 Zambia Philippines\n7118 Colombia Russia\n8642 Egypt Indonesia\n8707 China CentralAfricanRepublic\n4134 Brazil China\n3011 Tunisia Tuvalu\n9644 Macedonia Netherlands\n6481 Sweden Philippines\n4034 China Philippines\n7406 Greece DominicanRepublic\n2726 Portugal France\n6540 Poland UnitedStates\n9380 China Cyprus\n7815 Cambodia Honduras\n1186 PalestinianTerritory Indonesia\n4932 China Malaysia\n7452 China Indonesia\n4930 Ukraine Netherlands\n9106 Japan China\n8691 Poland China\n8304 DominicanRepublic CzechRepublic\n8587 Mongolia Somalia\n3079 Indonesia Latvia\n3972 China Laos\n1631 China France\n6422 Macedonia Thailand\n6587 Argentina Comoros\n6236 Argentina China\n5190 China Poland\n4867 Guatemala Switzerland\n7536 Honduras Poland\n3860 China Indonesia\n1086 Russia BurkinaFaso\n4771 Mauritius Portugal\n3497 Brazil Russia\n2563 Indonesia DemocraticRepublicoftheCongo\n1395 China Japan\n4742 Indonesia Ukraine\n1153 Philippines Kyrgyzstan\n3674 Brazil Russia\n8649 Gambia Ukraine\n8739 Sweden China\n5247 Indonesia Tanzania\n9503 Aruba SouthKorea\n4597 France China\n5070 Philippines Zimbabwe\n4191 Mali Namibia\n4573 Honduras Ukraine\n4572 Argentina Russia\n5763 Poland Sweden\n7401 China France\n8317 China Poland\n5281 Portugal China\n8071 SriLanka Indonesia\n5142 Ukraine China\n1524 Russia Brazil\n9573 Indonesia China\n6958 Bulgaria Portugal\n4146 Argentina Brazil\n6205 UnitedStates Indonesia\n7222 Indonesia Philippines\n2242 China Indonesia\n7396 Kosovo Poland\n4629 Greece Moldova\n1493 Poland UnitedStates\n6982 Japan Canada\n8232 Russia Nigeria\n9388 UnitedStates Venezuela\n9337 Mexico Vietnam\n7111 Brazil China\n4939 Canada Thailand\n1984 Philippines Slovenia\n4942 Indonesia Nigeria\n4777 Colombia Indonesia\n2019 Malawi Indonesia\n8525 Tanzania China\n9559 Indonesia Greece\n8760 Mongolia Senegal\n6465 Canada Indonesia\n1933 SouthKorea Nigeria\n6013 Indonesia China\n8616 Indonesia Russia\n3939 China Indonesia\n7147 China Honduras\n7631 China Colombia\n' '' '' ''
avaliar 'q4' 'Russia *' '5390 Russia Latvia\n5947 Russia Philippines\n1103 Russia Thailand\n1271 Russia China\n5580 Russia Uganda\n3793 Russia Sweden\n8685 Russia Lithuania\n1786 Russia Greece\n2414 Russia Germany\n8963 Russia Indonesia\n2830 Russia China\n9769 Russia Albania\n3518 Russia Morocco\n4242 Russia Sweden\n9262 Russia China\n3134 Russia Argentina\n9406 Russia Nicaragua\n1120 Russia Indonesia\n1738 Russia Slovenia\n7369 Russia Indonesia\n7025 Russia Bangladesh\n2799 Russia China\n9053 Russia Indonesia\n5480 Russia China\n8308 Russia China\n1560 Russia Mexico\n6534 Russia China\n2332 Russia Cuba\n4513 Russia Indonesia\n3019 Russia Nigeria\n9891 Russia Brazil\n8751 Russia Colombia\n9748 Russia Indonesia\n2956 Russia China\n6516 Russia China\n2072 Russia PalestinianTerritory\n4635 Russia Philippines\n5887 Russia Japan\n4809 Russia Mexico\n4823 Russia Brazil\n1594 Russia China\n6155 Russia China\n9183 Russia SouthAfrica\n1685 Russia Greece\n7296 Russia China\n9423 Russia China\n5238 Russia China\n1086 Russia BurkinaFaso\n1524 Russia Brazil\n8232 Russia Nigeria\n' '' '' ''
avaliar 'q4' '* Russia' '2054 Indonesia Russia\n4355 China Russia\n6596 Indonesia Russia\n6510 CzechRepublic Russia\n7430 Armenia Russia\n4438 Philippines Russia\n4612 Poland Russia\n1406 Colombia Russia\n5194 China Russia\n7929 Philippines Russia\n6535 China Russia\n8110 China Russia\n1722 Peru Russia\n6853 Mexico Russia\n7457 Philippines Russia\n4936 Uganda Russia\n9423 Kenya Russia\n3096 IvoryCoast Russia\n8018 Australia Russia\n8011 Finland Russia\n9735 Bolivia Russia\n2075 France Russia\n4135 Indonesia Russia\n6447 Brazil Russia\n7784 Nigeria Russia\n1377 Poland Russia\n7750 Philippines Russia\n9881 China Russia\n2994 Indonesia Russia\n4146 Venezuela Russia\n8056 China Russia\n5429 Ireland Russia\n2753 Philippines Russia\n9543 Vietnam Russia\n7242 Moldova Russia\n3576 SaudiArabia Russia\n8861 Brazil Russia\n9067 China Russia\n7539 Indonesia Russia\n2185 Botswana Russia\n5356 China Russia\n4134 Moldova Russia\n9669 China Russia\n6585 DominicanRepublic Russia\n1811 China Russia\n1421 Ukraine Russia\n9501 Philippines Russia\n1691 Vietnam Russia\n2290 China Russia\n1972 Indonesia Russia\n8274 Indonesia Russia\n6970 Sweden Russia\n7565 Serbia Russia\n5320 China Russia\n4522 France Russia\n3256 Iran Russia\n9956 China Russia\n9398 Indonesia Russia\n9014 Indonesia Russia\n7273 Finland Russia\n6321 China Russia\n3836 Indonesia Russia\n8219 SouthAfrica Russia\n5230 Brazil Russia\n5765 Poland Russia\n7118 Colombia Russia\n3497 Brazil Russia\n3674 Brazil Russia\n4572 Argentina Russia\n8616 Indonesia Russia\n' '' '' ''
avaliar 'q4' 'Brazil China' '4396 Brazil China\n2555 Brazil China\n8954 Brazil China\n6447 Brazil China\n3896 Brazil China\n9266 Brazil China\n5842 Brazil China\n9592 Brazil China\n3351 Brazil China\n7244 Brazil China\n2804 Brazil China\n6846 Brazil China\n9497 Brazil China\n8546 Brazil China\n4134 Brazil China\n7111 Brazil China\n' '' '' ''
avaliar 'q4' 'China Brazil' '4345 China Brazil\n9483 China Brazil\n8665 China Brazil\n5421 China Brazil\n3218 China Brazil\n2684 China Brazil\n' '' '' ''
avaliar 'q4' 'Russia China' '1271 Russia China\n2830 Russia China\n9262 Russia China\n2799 Russia China\n5480 Russia China\n8308 Russia China\n6534 Russia China\n2956 Russia China\n6516 Russia China\n1594 Russia China\n6155 Russia China\n7296 Russia China\n9423 Russia China\n5238 Russia China\n' '' '' ''
avaliar 'q4' 'UnitedStates Brazil' '' '' '' ''
avaliar 'q4' 'Brazil Portugal' '' '' '' ''
avaliar 'q4' 'UnitedStates *' '8099 UnitedStates Ecuador\n9458 UnitedStates Poland\n7827 UnitedStates Sudan\n7558 UnitedStates China\n8633 UnitedStates Sweden\n2686 UnitedStates Indonesia\n3222 UnitedStates Vietnam\n8881 UnitedStates Guatemala\n2106 UnitedStates China\n7504 UnitedStates Indonesia\n6759 UnitedStates China\n7270 UnitedStates Cyprus\n9711 UnitedStates China\n5873 UnitedStates Haiti\n2913 UnitedStates Poland\n1332 UnitedStates China\n4333 UnitedStates China\n6205 UnitedStates Indonesia\n9388 UnitedStates Venezuela\n' '' '' ''

totalQuestoes=0
notaTotal=0
echo ''
echo -e "${amarelo}              sumário $1            ${normal}"
echo '----------------------'
echo -e 'problema\tacertos / número de testes'
for i in ${!sumarioTotal[@]}; do
	if ! [ -n "${sumarioStatus[$i]}" ]; then
		echo -e $i '\t' ${sumarioAcertos[$i]} / ${sumarioTotal[$i]}
		acertos=${sumarioAcertos[$i]}
		total=${sumarioTotal[$i]}
		notaQuestao=$(echo "$acertos/$total" | bc -l)
		notaTotal=$(echo "$notaTotal+$notaQuestao" | bc -l)
	else
		echo -e $i '\t' 'Erro:' ${sumarioStatus[$i]}
	fi
	totalQuestoes=$((totalQuestoes+1))
done
echo '----------------------'
echo 'Nota: ' $(echo "2*$notaTotal/$totalQuestoes" | bc -l)
			

rm gabarito input output expected* userError userOutput exec* 2> /dev/null
